<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

<head>
    <meta charset="utf-8" />
    <title>GorilazClone</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        canvas {
            background: rgb(48, 7, 197);
            display: block;
            margin: 0 auto;
        }
    </style>
</head>

<body class="bg-dark">
    <div id="container">
        <div class="row">
            <div class="col-6 ml-auto shadow-lg rounded">
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <h4 class="text-warning text">Jugador 1</h4>
                            <!--<label class="text-warning mt-auto" for="p1_angulo">Angulo:</label>-->
                            <input class="form-control mt-auto" name="p1_angulo" id="p1_angulo" maxlength="3"
                                placeholder="Angulo"> <br>
                            <!--<label class="text-warning mt-auto" for="p1_vel">Velocidad:</label>-->
                            <input class="form-control mt-auto" name="p1_vel" id="p1_vel" maxlength="3"
                                placeholder="Velocidad">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-6 mr-auto">
                <div class="card shadow-lg rounded" >
                    <div class="form-group">
                        <h4 class="text-danger">Jugador 2</h4>
                        <!--<label class="text-warning mt-auto" for="p1_angulo">Angulo:</label>-->
                        <input class="form-control mt-auto" name="p2_angulo" id="p2_angulo" maxlength="3"
                            placeholder="Angulo"><br>
                        <!--<label class="text-warning mt-auto" for="p1_vel">Velocidad:</label>-->
                        <input class="form-control mt-auto" name="p2_vel" id="p2_vel" maxlength="3"
                            placeholder="Velocidad">
                    </div>
                    <h4 class="card-title"> Player2</h4>
                </div>
            </div>
        </div>

        <canvas style=" filter: blur(8px);
                    -webkit-filter: blur(1px)" class="border border-warning rounded" id="myCanvas" width="1204"
            height="460"></canvas>

</body>
</div>

</div>


</div>
<!--<canvas id="canvas" width="1000" height="500"> </canvas>-->
</div>

<script>
    //DIBUJO EN CANVAS
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    var w = document.getElementById("myCanvas").offsetWidth;
    var h = document.getElementById("myCanvas").offsetHeight;

    //dibuja w ancho h alto con get elementbyid busca el elemento mycanvas y lo remplza con mas dibuja dentro dee ese elemento
    var canonImageLoaded = false,canonImage2Loaded = false, torreImageLoaded = false, bombaImageLoaded = false, fondoImageLoaded = false;
    //declaracion de variables temporales incluyendo los dos scores 
    var objectSizes = 20;
    var speed = 100;
    var modifier = 100;
    var score1 = 0;
    var score2 = 0;
    //cargamos la imagen del cañon 
    //cañon PLAYER 1
    var canonImage = new Image();
    canonImage.onload = function () {
        canonImageLoaded = true;
        assetsLoaded();
    };
    canonImage.src = "assets/img/canon.png";
    //cargamos la imagen del cañon 
    //cañon PLAYER 2
    var canonImage2 = new Image();
    canonImage2.onload = function () {
        canonImage2Loaded = true;
        assetsLoaded();
    };
    canonImage2.src = "assets/img/canon2.png";

    // CARGAR IMAGEN Torres  imagen
    var torreImage = new Image();
    torreImage.onload = function () {
        torreImageLoaded = true;
        assetsLoaded();
    };
    torreImage.src = "assets/img/torres.png";
    //CARGAR IMAGEN Fondo imagen
    var fondoImage = new Image();
    fondoImage.onload = function () {
        fondoImageLoaded = true;
        assetsLoaded();
    };
    fondoImage.src = "assets/img/fondo.jpg";
    // CARGAR IMAGEN Bomba imagen
    var bombaImage = new Image();
    bombaImage.onload = function () {
        bombaImageLoaded = true;
        assetsLoaded();
    };
    bombaImage.src = "assets/img/bomba.png";
    /* por definir
        //Sonido de Fondo
        var mainTheme = new Audio("sounds/main-theme.mp3");
        mainTheme.loop = true;
        mainTheme.volume = 0.5;
        mainTheme.play();
    */
    /* por definir
        //sonido lanzamiento
        var lanzamiento = new Audio("sounds/lanzar.mp3");
        pokePick.volume = 0.8;
     */
    /*
   * Decide here if all the assets are ready to start updating
    * @function
    * @name assetsLoaded
    */
    function assetsLoaded() {
        if (canonImage2Loaded == true && canonImageLoaded == true && torreImageLoaded == true && bombaImageLoaded == true && fondoImageLoaded == true) {
            update();
        }
    }

    // AQUI DIBUJAMOS
    function update() {
        //OBJETOS TORRES de izquierda a derecha
        var fondo = new Object;
        fondo.x = 0;
        fondo.y = 0;
        //////////////////////////////////////////
        var Torre1 = new Object;
        Torre1.x = 0;
        Torre1.y = 150;
        //////////////////////////////////////////
        var Torre2 = new Object;
        Torre2.x = 100;
        Torre2.y = 350;
        //////////////////////////////////////////
        var Torre3 = new Object;
        Torre3.x = 200;
        Torre3.y = 350;
        //////////////////////////////////////////
        var Torre4 = new Object;
        Torre4.x = 300;
        Torre4.y = 350;
        //////////////////////////////////////////
        var Torre5 = new Object;
        Torre5.x = 400;
        Torre5.y = 350;
        //////////////////////////////////////////
        var Torre6 = new Object;
        Torre6.x = 500;
        Torre6.y = 170;
        //////////////////////////////////////////
        var Torre7 = new Object;
        Torre7.x = 600;
        Torre7.y = 350;
        //////////////////////////////////////////
        var Torre8 = new Object;
        Torre8.x = 700;
        Torre8.y = 190;
        //////////////////////////////////////////
        var Torre9 = new Object;
        Torre9.x = 800;
        Torre9.y = 170;
        //////////////////////////////////////////
        var Torre10 = new Object;
        Torre10.x = 900;
        Torre10.y = 190;
        //////////////////////////////////////////
        var Torre11 = new Object;
        Torre11.x = 1000;
        Torre11.y = 170;
        //////////////////////////////////////////
        var Torre12 = new Object;
        Torre12.x = 1100;
        Torre12.y = 170;
        /////////////////////////////////////////////////////////
        //agregar fondo de imagen

        ctx.drawImage(fondoImage, fondo.x, fondo.y);
        ctx.drawImage(torreImage, Torre1.x, Torre1.y);
        ctx.drawImage(torreImage, Torre2.x, Torre2.y);
        ctx.drawImage(torreImage, Torre3.x, Torre3.y);
        ctx.drawImage(torreImage, Torre4.x, Torre4.y);
        ctx.drawImage(torreImage, Torre5.x, Torre5.y);
        ctx.drawImage(torreImage, Torre6.x, Torre6.y);
        ctx.drawImage(torreImage, Torre7.x, Torre7.y);
        ctx.drawImage(torreImage, Torre8.x, Torre8.y);
        ctx.drawImage(torreImage, Torre9.x, Torre9.y);
        ctx.drawImage(torreImage, Torre10.x, Torre10.y);
        ctx.drawImage(torreImage, Torre11.x, Torre11.y);
        ctx.drawImage(torreImage, Torre12.x, Torre12.y);
        /////////////////////////////////////////////////////////        
        //dibuja bomba 600 * 350
        var bomba = new Object;
        bomba.bx = 900;
        bomba.by = 150;
        ctx.drawImage(bombaImage, bomba.bx, bomba.by);

        //dibuja cañon  coordenadas de la imagen 
        var canon1 = new Object;
        canon1.x = 250;
        canon1.y = 200;
        canon1.spritePosition = 0;
        canon1.spriteItemDistance = 33;
       // canon1.x = Math.floor(Math.random() * 600) + 1;

        var canon2 = new Object;
        canon2.x = 0;
        canon2.y = 90;
        canon2.spritePosition = 0;
        canon2.spriteItemDistance = 33;
       // canon2.x = Math.floor(Math.random() * 600) + 1;
       switch(Math.floor(Math.random() * 600) + 1)
        {
        case 0:
        {
            
         canon1.x =Torre1.x;
         canon1.y=Torre1.y;

        } break;
        case 1:
        {
        canon1.x=Torre2.x;
         canon1.y=Torre2.y;
        }break;
        case 2:

        {
        canon1.x=Torre3.x;
         canon1.y=Torre3.y;
        }break;
        case 3:
        {
            canon1.x=Torre4.x;
         canon1.y=Torre4.y;
        }break;
        case 4:
        {
            canon1.x=Torre5.x;
         canon1.y=Torre5.y;
        }break;
        }
        
        switch(Math.random(6,12)){
        case 6:
        {
         canon2.x=Torre9.x;
         canon2.y=Torre9.y;
        }break;
        case 7:
        {
            canon2.x=Torre9.x;
         canon2.y=Torre9.y;
        }break;
        case 8:
        {
            canon2.x=Torre9.x;
         canon2.y=Torre3.y;
        }break;
        case 9:
        {
            canon2.x=Torre10.x;
         canon2.y=Torre10.y;
        }break;
        case 10:
        {
            canon2.x=Torre10.x;
         canon2.y=Torre10.y;
        }break;
        }
        /////////////////////////////////////////////////
        ctx.drawImage(canonImage, canon1.x, canon1.x);
        ctx.drawImage(canonImage2, canon2.x, canon2.y);
        //////////////////////////////////////////////////
        //generador de fondo¡¡
        board();
        //AQUI PONEMOS EL ANGULO Y VELOCIDAD DE LA BOMBA p1_angulo ANGULO PLAYER 1   p1_vel VELOCIDAD PLAYER 1
        $("input[name=p1_angulo]").change(function () {
            var p1_angulo = $('input[name=p1_angulo]').val();
            var p1_angulo = ($("#p1_angulo").val());
            console.log(p1_angulo);
        });
        $("input[name=p1_vel]").change(function () {
            var p1_vel = $('input[name=p1_vel]').val();
            var p1_vel = ($("#p1_vel").val());
            console.log(p1_vel);
        });
        //AQUI PONEMOS EL ANGULO Y VELOCIDAD DE LA BOMBA p2_angulo ANGULO PLAYER 2   p2_vel VELOCIDAD PLAYER 2
        $("input[name=p2_angulo]").change(function () {
            var p2_angulo = $('input[name=p2_angulo]').val();
            var p2_angulo = ($("#p2_angulo").val());
            console.log(p2_angulo);
        });
        $("input[name=p2_vel]").change(function () {
            var p2_vel = $('input[name=p2_vel]').val();
            var p2_vel = ($("#p2_vel").val());
            console.log(p2_vel);
        });

    }

    function board() {
        //DIBUJA SCORES EN LA PANTALLA 
        ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
        ctx.fillRect(w - 100, h - 70, 100, 70);
        ctx.font = "18px Arial";
        ctx.fillStyle = "rgba(255, 255, 255, 1)";
        ctx.fillText("SCORE #2:" + score2, w - 120, h - 390);
        ctx.font = "18px Arial";
        ctx.fillStyle = "rgba(255, 255, 255, 1)";
        ctx.fillText(score1 + "SCORE #1:" + score1, w - 1200, h - 390);
    }



</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
</body>

</body>

</html>